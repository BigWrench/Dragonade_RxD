; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.61219.0 

	TITLE	X:\GitHub\Renegade\Dragonade_RxD\scripts\SysTimeClass.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?Get@SysTimeClass@@QAEIXZ			; SysTimeClass::Get
PUBLIC	?Reset@SysTimeClass@@QAEXXZ			; SysTimeClass::Reset
PUBLIC	??4SysTimeClass@@QAEAAV0@ABV0@@Z		; SysTimeClass::operator=
PUBLIC	??$ResolveGameReference@_N@@YAAA_NHHH@Z		; ResolveGameReference<bool>
PUBLIC	??$ResolveGameReference@VSysTimeClass@@@@YAAAVSysTimeClass@@HHH@Z ; ResolveGameReference<SysTimeClass>
PUBLIC	?_is_init@SysTimeClass@@2AA_NA			; SysTimeClass::_is_init
PUBLIC	?SystemTime@SysTimeClass@@2AAV1@A		; SysTimeClass::SystemTime
EXTRN	?InitEngine@@YAXXZ:PROC				; InitEngine
EXTRN	__imp__timeGetTime@0:PROC
EXTRN	?Exe@@3HA:DWORD					; Exe
_BSS	SEGMENT
?_is_init@SysTimeClass@@2AA_NA DD 01H DUP (?)		; SysTimeClass::_is_init
?SystemTime@SysTimeClass@@2AAV1@A DD 01H DUP (?)	; SysTimeClass::SystemTime
_BSS	ENDS
CRT$XCL	SEGMENT
?_is_init$initializer$@SysTimeClass@@2P6AXXZA DD FLAT:??__E?_is_init@SysTimeClass@@2AA_NA@@YAXXZ ; SysTimeClass::_is_init$initializer$
CRT$XCL	ENDS
CRT$XCL	SEGMENT
?SystemTime$initializer$@SysTimeClass@@2P6AXXZA DD FLAT:??__E?SystemTime@SysTimeClass@@2AAV1@A@@YAXXZ ; SysTimeClass::SystemTime$initializer$
CRT$XCL	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\systimeclass.cpp
;	COMDAT ??__E?SystemTime@SysTimeClass@@2AAV1@A@@YAXXZ
text$yc	SEGMENT
??__E?SystemTime@SysTimeClass@@2AAV1@A@@YAXXZ PROC	; `dynamic initializer for 'SysTimeClass::SystemTime'', COMDAT

; 24   : REF_DEF3(SysTimeClass, SysTimeClass::SystemTime, 0x0083F450, 0x0083E638, 0x008851B0);

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi
	push	8933808					; 008851b0H
	push	8644152					; 0083e638H
	push	8647760					; 0083f450H
	call	??$ResolveGameReference@VSysTimeClass@@@@YAAAVSysTimeClass@@HHH@Z ; ResolveGameReference<SysTimeClass>
	add	esp, 12					; 0000000cH
	mov	DWORD PTR ?SystemTime@SysTimeClass@@2AAV1@A, eax ; SysTimeClass::SystemTime
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
??__E?SystemTime@SysTimeClass@@2AAV1@A@@YAXXZ ENDP	; `dynamic initializer for 'SysTimeClass::SystemTime''
text$yc	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\defines.h
;	COMDAT ??$ResolveGameReference@VSysTimeClass@@@@YAAAVSysTimeClass@@HHH@Z
_TEXT	SEGMENT
tv68 = -76						; size = 4
tv69 = -72						; size = 4
tv70 = -68						; size = 4
_client$ = 8						; size = 4
_server$ = 12						; size = 4
_leveledit$ = 16					; size = 4
??$ResolveGameReference@VSysTimeClass@@@@YAAAVSysTimeClass@@HHH@Z PROC ; ResolveGameReference<SysTimeClass>, COMDAT

; 149  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 76					; 0000004cH
	push	ebx
	push	esi
	push	edi

; 150  : 	if (Exe == 6) InitEngine();

	cmp	DWORD PTR ?Exe@@3HA, 6			; Exe
	jne	SHORT $LN1@ResolveGam
	call	?InitEngine@@YAXXZ			; InitEngine
$LN1@ResolveGam:

; 151  : #pragma warning(suppress: 6011) //warning C6011: dereferencing NULL pointer <name>
; 152  : 	return *((T*)((Exe == 0) ? client : ((Exe == 1) ? server : ((Exe == 4) ? leveledit : 0))));

	cmp	DWORD PTR ?Exe@@3HA, 0			; Exe
	jne	SHORT $LN8@ResolveGam
	mov	eax, DWORD PTR _client$[ebp]
	mov	DWORD PTR tv70[ebp], eax
	jmp	SHORT $LN9@ResolveGam
$LN8@ResolveGam:
	cmp	DWORD PTR ?Exe@@3HA, 1			; Exe
	jne	SHORT $LN6@ResolveGam
	mov	ecx, DWORD PTR _server$[ebp]
	mov	DWORD PTR tv69[ebp], ecx
	jmp	SHORT $LN7@ResolveGam
$LN6@ResolveGam:
	cmp	DWORD PTR ?Exe@@3HA, 4			; Exe
	jne	SHORT $LN4@ResolveGam
	mov	edx, DWORD PTR _leveledit$[ebp]
	mov	DWORD PTR tv68[ebp], edx
	jmp	SHORT $LN5@ResolveGam
$LN4@ResolveGam:
	mov	DWORD PTR tv68[ebp], 0
$LN5@ResolveGam:
	mov	eax, DWORD PTR tv68[ebp]
	mov	DWORD PTR tv69[ebp], eax
$LN7@ResolveGam:
	mov	ecx, DWORD PTR tv69[ebp]
	mov	DWORD PTR tv70[ebp], ecx
$LN9@ResolveGam:
	mov	eax, DWORD PTR tv70[ebp]

; 153  : };

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
??$ResolveGameReference@VSysTimeClass@@@@YAAAVSysTimeClass@@HHH@Z ENDP ; ResolveGameReference<SysTimeClass>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\systimeclass.cpp
;	COMDAT ??__E?_is_init@SysTimeClass@@2AA_NA@@YAXXZ
text$yc	SEGMENT
??__E?_is_init@SysTimeClass@@2AA_NA@@YAXXZ PROC		; `dynamic initializer for 'SysTimeClass::_is_init'', COMDAT

; 23   : REF_DEF3(bool, SysTimeClass::_is_init, 0x0081C644, 0x0081B824, 0x0085A544);

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi
	push	8758596					; 0085a544H
	push	8501284					; 0081b824H
	push	8504900					; 0081c644H
	call	??$ResolveGameReference@_N@@YAAA_NHHH@Z	; ResolveGameReference<bool>
	add	esp, 12					; 0000000cH
	mov	DWORD PTR ?_is_init@SysTimeClass@@2AA_NA, eax ; SysTimeClass::_is_init
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
??__E?_is_init@SysTimeClass@@2AA_NA@@YAXXZ ENDP		; `dynamic initializer for 'SysTimeClass::_is_init''
text$yc	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\defines.h
;	COMDAT ??$ResolveGameReference@_N@@YAAA_NHHH@Z
_TEXT	SEGMENT
tv68 = -76						; size = 4
tv69 = -72						; size = 4
tv70 = -68						; size = 4
_client$ = 8						; size = 4
_server$ = 12						; size = 4
_leveledit$ = 16					; size = 4
??$ResolveGameReference@_N@@YAAA_NHHH@Z PROC		; ResolveGameReference<bool>, COMDAT

; 149  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 76					; 0000004cH
	push	ebx
	push	esi
	push	edi

; 150  : 	if (Exe == 6) InitEngine();

	cmp	DWORD PTR ?Exe@@3HA, 6			; Exe
	jne	SHORT $LN1@ResolveGam
	call	?InitEngine@@YAXXZ			; InitEngine
$LN1@ResolveGam:

; 151  : #pragma warning(suppress: 6011) //warning C6011: dereferencing NULL pointer <name>
; 152  : 	return *((T*)((Exe == 0) ? client : ((Exe == 1) ? server : ((Exe == 4) ? leveledit : 0))));

	cmp	DWORD PTR ?Exe@@3HA, 0			; Exe
	jne	SHORT $LN8@ResolveGam
	mov	eax, DWORD PTR _client$[ebp]
	mov	DWORD PTR tv70[ebp], eax
	jmp	SHORT $LN9@ResolveGam
$LN8@ResolveGam:
	cmp	DWORD PTR ?Exe@@3HA, 1			; Exe
	jne	SHORT $LN6@ResolveGam
	mov	ecx, DWORD PTR _server$[ebp]
	mov	DWORD PTR tv69[ebp], ecx
	jmp	SHORT $LN7@ResolveGam
$LN6@ResolveGam:
	cmp	DWORD PTR ?Exe@@3HA, 4			; Exe
	jne	SHORT $LN4@ResolveGam
	mov	edx, DWORD PTR _leveledit$[ebp]
	mov	DWORD PTR tv68[ebp], edx
	jmp	SHORT $LN5@ResolveGam
$LN4@ResolveGam:
	mov	DWORD PTR tv68[ebp], 0
$LN5@ResolveGam:
	mov	eax, DWORD PTR tv68[ebp]
	mov	DWORD PTR tv69[ebp], eax
$LN7@ResolveGam:
	mov	ecx, DWORD PTR tv69[ebp]
	mov	DWORD PTR tv70[ebp], ecx
$LN9@ResolveGam:
	mov	eax, DWORD PTR tv70[ebp]

; 153  : };

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
??$ResolveGameReference@_N@@YAAA_NHHH@Z ENDP		; ResolveGameReference<bool>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??4SysTimeClass@@QAEAAV0@ABV0@@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___that$ = 8						; size = 4
??4SysTimeClass@@QAEAAV0@ABV0@@Z PROC			; SysTimeClass::operator=, COMDAT
; _this$ = ecx
	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR ___that$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	edx, DWORD PTR [eax+4]
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], ecx
	mov	DWORD PTR [eax+4], edx
	mov	eax, DWORD PTR _this$[ebp]
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	4
??4SysTimeClass@@QAEAAV0@ABV0@@Z ENDP			; SysTimeClass::operator=
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\systimeclass.cpp
;	COMDAT ?Reset@SysTimeClass@@QAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Reset@SysTimeClass@@QAEXXZ PROC			; SysTimeClass::Reset, COMDAT
; _this$ = ecx

; 49   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi
	mov	DWORD PTR _this$[ebp], ecx

; 50   :    this->uTimeInit = timeGetTime();

	call	DWORD PTR __imp__timeGetTime@0
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx], eax

; 51   :    this->uTimeInitNeg = (uint32)-(sint32)this->uTimeInit;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	neg	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+4], ecx

; 52   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?Reset@SysTimeClass@@QAEXXZ ENDP			; SysTimeClass::Reset
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File x:\github\renegade\dragonade_rxd\scripts\systimeclass.cpp
;	COMDAT ?Get@SysTimeClass@@QAEIXZ
_TEXT	SEGMENT
_u$ = -8						; size = 4
_this$ = -4						; size = 4
?Get@SysTimeClass@@QAEIXZ PROC				; SysTimeClass::Get, COMDAT
; _this$ = ecx

; 27   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	push	ebx
	push	esi
	push	edi
	mov	DWORD PTR _this$[ebp], ecx

; 28   : 
; 29   :    if (!_is_init)

	mov	eax, DWORD PTR ?_is_init@SysTimeClass@@2AA_NA ; SysTimeClass::_is_init
	movzx	ecx, BYTE PTR [eax]
	test	ecx, ecx
	jne	SHORT $LN3@Get

; 30   :    {
; 31   :       _is_init = true;

	mov	eax, DWORD PTR ?_is_init@SysTimeClass@@2AA_NA ; SysTimeClass::_is_init
	mov	BYTE PTR [eax], 1

; 32   :       this->Reset();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?Reset@SysTimeClass@@QAEXXZ		; SysTimeClass::Reset
$LN3@Get:

; 33   :    }
; 34   : 
; 35   :    unsigned int u = timeGetTime();

	call	DWORD PTR __imp__timeGetTime@0
	mov	DWORD PTR _u$[ebp], eax

; 36   :    if (u <= uTimeInit)

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _u$[ebp]
	cmp	ecx, DWORD PTR [eax]
	ja	SHORT $LN2@Get

; 37   :    {
; 38   :        return uTimeInitNeg + u;

	mov	eax, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [eax+4]
	add	eax, DWORD PTR _u$[ebp]
	jmp	SHORT $LN4@Get

; 39   :    }
; 40   :    else

	jmp	SHORT $LN4@Get
$LN2@Get:

; 41   :    {
; 42   :        return u - uTimeInit;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _u$[ebp]
	sub	ecx, DWORD PTR [eax]
	mov	eax, ecx
$LN4@Get:

; 43   :    }
; 44   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?Get@SysTimeClass@@QAEIXZ ENDP				; SysTimeClass::Get
_TEXT	ENDS
END
